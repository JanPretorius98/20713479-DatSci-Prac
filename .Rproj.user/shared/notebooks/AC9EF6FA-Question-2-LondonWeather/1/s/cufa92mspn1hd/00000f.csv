"0","# Filter out rows with NA values in df_london"
"0","df_london_clean <- df_london %>%"
"0","  filter(!is.na(precipitation))"
"0",""
"0","# Calculate the number of rainy days in each month for London"
"0","df_london_clean <- df_london_clean %>%"
"0","  mutate(rainy_day = ifelse(precipitation > 0, 1, 0))"
"0",""
"0","df_rainy <- df_london_clean %>%"
"0","  group_by(month = format(date, ""%m""), year = format(date, ""%Y"")) %>%"
"0","  summarise(rain = sum(rainy_day)) %>%"
"0","  group_by(month) %>%"
"0","  summarise(Rain = mean(rain))"
"0",""
"0","# We need to ensure the month is ordered correctly"
"0","df_rainy$month <- factor(df_rainy$month, levels = c(""01"",""02"",""03"",""04"",""05"",""06"",""07"",""08"",""09"",""10"",""11"",""12""))"
"0",""
"0","# Convert numeric month to abbreviated month names"
"0","df_rainy$Month <- month.abb[as.numeric(df_rainy$month)]"
"0",""
"0","# Add a City column to df_rainy"
"0","df_rainy <- df_rainy %>%"
"0","  mutate(City = ""London"")"
"0",""
"0","# Convert Month in df_cpt to character to match df_rainy"
"0","df_cpt$Month <- as.character(df_cpt$Month)"
"0",""
"0","# Join the datasets together"
"0","df_combined <- full_join(df_cpt, df_rainy, by = c(""Month"", ""City"", ""Rain""))"
"0",""
