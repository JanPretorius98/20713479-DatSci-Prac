"0",""
"0","# Convert data to long format"
"0","df_long <- df_london %>%"
"0","  mutate(month = format(date, ""%m"")) %>%"
"0","  pivot_longer(cols = c(cloud_cover, sunshine),"
"0","               names_to = ""Variable"","
"0","               values_to = ""Value"") %>%"
"0","  group_by(month, Variable) %>%"
"0","  summarise(mean_Value = mean(Value, na.rm = TRUE), .groups = ""drop"")"
"0",""
"0","# Order the data by month"
"0","df_long$month <- factor(df_long$month, levels = c(""01"", ""02"", ""03"", ""04"", ""05"", ""06"", ""07"", ""08"", ""09"", ""10"", ""11"", ""12""),"
"0","                        labels = c(""Jan"", ""Feb"", ""Mar"", ""Apr"", ""May"", ""Jun"", ""Jul"", ""Aug"", ""Sep"", ""Oct"", ""Nov"", ""Dec""), "
"0","                        ordered = TRUE)"
"0",""
"0","# Create the area plot"
"0","area_plot <- ggplot(df_long, aes(x = month, y = mean_Value, fill = Variable, group = Variable)) +"
"0","  geom_area(position = 'stack', alpha = 0.8) +"
"0","  scale_fill_manual(values = c(""#696969"", ""#d69e1e""), labels = c(""Cloud Cover"", ""Sunshine"")) +"
"0","  labs(title = ""At least you'll save money on not buying sunglasses."", "
"0","       x = ""Month"", "
"0","       y = ""Proportion of Sky"", "
"0","       fill = ""Variable"","
"0","       caption = ""Cloudy days await, as the the sun peers through the clouds throughout the year."","
"0","       subtitle = ""Area plot of sunshine and cloud coverage throughout the year."") +"
"0","  th +"
"0","  theme(legend.position = ""bottom"")"
"0",""
"0","print(area_plot)"
